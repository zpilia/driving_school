{% extends "base.html" %}
{% block title %}Tableau de bord Secrétaire{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

  {% if messages %}
    <div class="toast-container" style="position: fixed; top: 20px; right: 20px; z-index: 9999;">
      {% for message in messages %}
        <div class="toast {{ message.tags }}"
             style="display: flex; align-items: center; background-color: #d1fae5; color: #065f46; border: 1px solid #a7f3d0; border-radius: 0.5rem; padding: 1rem; margin-bottom: 1rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); min-width: 300px; max-width: 400px; font-size: 0.875rem; transition: opacity 0.4s ease;">
          <div style="flex: 1;">{{ message }}</div>
          <button onclick="this.parentElement.remove()"
                  style="margin-left: auto; background: none; border: none; color: #065f46; font-size: 1rem; padding: 0.25rem; cursor: pointer;">
            ×
          </button>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <h1 class="text-3xl font-bold text-blue-800 mb-8">
    Welcome, {{ user.get_full_name|default:user.username }} (Secretary)
  </h1>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

    <div class="bg-white p-6 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold text-gray-800 mb-2">👤 Manage Student/Instructor Accounts</h2>
      <p class="text-gray-600 mb-4">Create, edit, or delete user accounts for students and instructors.</p>
      <a href="{% url 'accounts:manage_accounts' %}" class="inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Manage Accounts</a>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold text-gray-800 mb-2">📅 General Schedule</h2>
      <p class="text-gray-600 mb-4">View and manage the global schedule of appointments.</p>
      <a href="{% url 'appointments:general_schedule' %}" class="inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">View Schedule</a>
    </div>

    <div class="bg-white p-6 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold text-gray-800 mb-2">⏱️ Add Lesson Hours</h2>
      <p class="text-gray-600 mb-4">Assign additional lesson hours to students' packages.</p>
      <a href="{% url 'lessonpackages:manage' %}" class="inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Add Hours</a>
    </div>

  </div>
</div>

<script>
  window.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".toast").forEach((toast) => {
      setTimeout(() => {
        toast.style.opacity = "0";
        setTimeout(() => toast.remove(), 500);
      }, 3000);
    });
  });
</script>
{% endblock %}
